# testTask
Добавляю Readme.md и комментарии к коду. <br>
Каюсь, поправила один символ в app.go (fmt.Sprintf(), %s -> %d).
## Что умеет это приложение?
1. Собираться:)
2. Решать математические выражения по запросу. Пример запроса с curl:
    ```
    curl --location --request POST 'http://127.0.0.1:50502/math' \ 
    --header 'Content-Type: application/json' \
    --header 'User-Access: superuser' \ 
    --insecure --data-raw '{"math": "2+2-3-5+1"}'
    ```
## Для запуска:
1. Собираем бинарный файл (выбрать нужную ОС и архитектуру):
    ```
    gox -osarch="linux/amd64" ./cmd
    ```
2. Добавить права на исполнение и запустить бинарный файл с флагом --http-config <путь до настроек>:
    ```
    chmod +x ./cmd_linux_amd64
    ./cmd_linux_amd64 /home/smthng/settings.xml
    ```
## Структура
Микросервис имеет следующую файловую структуру (с комментариями):

```
├── cmd  
    └── main.go                     # Файл с функцией main. Парсит входящие данные и запускает микросервис.
├── CONFIGS                        
    └── settings.xml                # Пример конфига для HTTP сервера.
├── internal                        # Содержит функции для основной работы микросервиса.
    ├── app                         
        └── app.go                  # Файл с функцией Run - запускает HTTP сервер.
    └── handlers                    
        ├── handler.go              # Содержит хэндлер для обработки математических операций.
        ├── handlers_test.go        # Небольшие тесты...
        └── router.go               # Инициализация HTTP роутера и привязка хэндлеров.
└── pkg                             # Дополнительные инструменты
    ├── app_utils                   # Небольшие дополнительные функции для app.go
        └── utils.go                # Функции для завершения работы приложения.
    └── handler_helpers             # Дополнительные функции для HTTP сервера.
        ├── handler_wrappers.go     # Универсальное логирование запросов, recover HTTP router, общий HTTP Respond.
        ├── math_struct.go          # Содержит структуру для парсинга JSON.
        ├── router_settings.go      # Хранение и парсинг настроек HTTP сервера.
        └── user_access.go          # Враппер для проверки заголовка User-Access.
```